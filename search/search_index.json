{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to My Laboratory Work \u00b6 Lors Khava \u00b6 K33402 \u00b6","title":"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},{"location":"#welcome-to-my-laboratory-work","text":"","title":"Welcome to My Laboratory Work"},{"location":"#lors-khava","text":"","title":"Lors Khava"},{"location":"#k33402","text":"","title":"K33402"},{"location":"lr1/","text":"Laboratory work 1 \u00b6 server.py - \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c client.py - \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c Task 1 \u00b6 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, server\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0435\u0440\u0432\u0435\u0440 \u0432 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, client\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430. server.py import socket server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(1) clientsocket, address = server.accept() data = clientsocket.recv(1024) print(data.decode(\"utf-8\")) clientsocket.send(\"Hello, client!\".encode(\"utf-8\")) clientsocket.close() client.py import socket client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) client.send(\"Hello, server!\".encode(\"utf-8\")) data = client.recv(1024) print(data.decode(\"utf-8\")) client.close() Task 2 \u00b6 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0441 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b. \u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443. \u0412\u0430\u0440\u0438\u0430\u043d\u0442: \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f server.py import socket server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(10) while True: try: clientsocket, address = server.accept() data = clientsocket.recv(1024).decode(\"utf-8\") a, b, c = float(a), float(b), float(c) d = (b ** 2) - (4 * a * c) if d < 0: msg = \"No solutions\" clientsocket.send(msg.encode(\"utf-8\")) elif d == 0: x = -b / (2*a) clientsocket.send(f\"x = {x}\".encode(\"utf-8\")) else: x1 = (-b-d ** 0.5)/(2*a) x2 = (-b+d ** 0.5)/(2*a) clientsocket.send(f\"x1 = {x1}, x2 = {x2}\".encode(\"utf-8\")) except KeyboardInterrupt: server.close() break client.py import socket client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) num = input(\"Enter a, b, c: \\n\") client.send(num.encode(\"utf-8\")) data = client.recv(1024).decode(\"utf-8\") print(\"result: \", data) client.close() Task 3 \u00b6 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u0412 \u043e\u0442\u0432\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 http-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0435 html-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 index.html. index.html <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>My page</title> </head> <body> <p> \"Today is a beautiful day!\" </p> </body> </html> server.py import socket server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(10) while True: try: clientsocket, address = server.accept() html_p = open('index.html') html_content = html_p.read() html_p.close() html_resp = 'HTTP/1.0 200 OK\\n' + html_content clientsocket.sendall(html_resp.encode('utf-8')) clientsocket.close() except KeyboardInterrupt: server.close() break client.py from http import client import socket client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) data = client.recv(1024) print(data.decode('utf-8')) client.close() Task 4 \u00b6 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0432\u0443\u0445\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0438\u043b\u0438 \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0447\u0430\u0442. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0447\u0430\u0441\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 threading. server.py import socket import threading server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(10) clients = [] nicknames = [] def broadcast(message): for client in clients: client.send(message) def handle(client): while True: try: message = client.recv(1024) broadcast(message) except: index = clients.index(client) clients.remove(client) client.close() nickname = nicknames[index] broadcast('{} left!'.format(nickname).encode('ascii')) nicknames.remove(nickname) break def receive(): while True: client, address = server.accept() print(\"Connected with {}\".format(str(address))) client.send('NICK'.encode('ascii')) nickname = client.recv(1024).decode('ascii') nicknames.append(nickname) clients.append(client) print(\"Nickname is {}\".format(nickname)) broadcast(\"{} joined!\".format(nickname).encode('ascii')) client.send('Connected to server!'.encode('ascii')) thread = threading.Thread(target=handle, args=(client,)) thread.start() receive() client.py import socket import threading nickname = input(\"Choose your nickname: \") client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) def receive(): while True: try: message = client.recv(1024).decode('ascii') if message == 'NICK': client.send(nickname.encode('ascii')) else: print(message) except: print(\"An error occured!\") client.close() break def write(): while True: message = '{}: {}'.format(nickname, input('')) client.send(message.encode('ascii')) receive_thread = threading.Thread(target=receive) receive_thread.start() write_thread = threading.Thread(target=write) write_thread.start() Task 5 \u00b6 \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 web-\u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 GET \u0438 POST http \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Python \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 socket. server.py import socket GRADES = {} class MyHTTPServer: def __init__(self, host, port): self.host = host self.port = port def serve_forever(self): server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((self.host, self.port)) server.listen(10) while True: cliensocket, address = server.accept() self.serve_client(cliensocket) def serve_client(self, clientsocket): try: req = self.parse_request(clientsocket) resp = self.handle_request(req) self.send_response(clientsocket, resp) except ConnectionResetError: clientsocket = None if clientsocket: clientsocket.close() def parse_request_line(self, rfile): line = rfile.readline(10**4) line = line.decode(\"utf-8\") return line.split() def parse_request(self, clientsocket): rfile = clientsocket.makefile('rb') method, url, ver = self.parse_request_line(rfile) request = {'data': {}, 'method': method} if '?' in url: request['method'] = 'POST' values = url.split('?')[1].split('&') for value in values: a, b = value.split('=') request['data'][a] = b return request def handle_request(self, req): if req['method'] == 'POST': return self.handle_post(req) else: return self.handle_get() def handle_get(self): contenttype = 'text/html; charset=utf-8' body = '<html><head><style></style></head><body>' body += '<form><label>Discipline </label><input name=\"discipline\" /><br><label>Mark </label><input name=\"grade\"/><br><input type=\"submit\"></form>' for i in GRADES: body += f'<div><span>{i}: {GRADES[i]}</span></div>' body += '</div></body></html>' body = body.encode('utf-8') headers = [('Content-Type', contenttype), ('Content-Length', len(body))] return Response(200, 'OK', headers, body) def handle_post(self, request): discipline = request['data']['discipline'] grade = request['data']['grade'] if discipline not in GRADES: GRADES[discipline] = [] GRADES[discipline].append(grade) return self.handle_get() def send_response(self, clientsocket, resp): rfile = clientsocket.makefile('wb') status_line = f'HTTP/1.1 {resp.status} {resp.reason}\\r\\n' rfile.write(status_line.encode('utf-8')) if resp.headers: for (key, value) in resp.headers: header_line = f'{key}: {value}\\r\\n' rfile.write(header_line.encode('utf-8')) rfile.write(b'\\r\\n') if resp.body: rfile.write(resp.body) rfile.flush() rfile.close() class Response: def __init__(self, status, reason, headers=None, body=None): self.status = status self.reason = reason self.headers = headers self.body = body if __name__ == '__main__': serv = MyHTTPServer('127.0.0.1', 8080) serv.serve_forever()","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161"},{"location":"lr1/#laboratory-work-1","text":"server.py - \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c client.py - \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c","title":"Laboratory work 1"},{"location":"lr1/#task-1","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, server\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0435\u0440\u0432\u0435\u0440 \u0432 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u00abHello, client\u00bb. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430. server.py import socket server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(1) clientsocket, address = server.accept() data = clientsocket.recv(1024) print(data.decode(\"utf-8\")) clientsocket.send(\"Hello, client!\".encode(\"utf-8\")) clientsocket.close() client.py import socket client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) client.send(\"Hello, server!\".encode(\"utf-8\")) data = client.recv(1024) print(data.decode(\"utf-8\")) client.close()","title":"Task 1"},{"location":"lr1/#task-2","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0443\u044e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0441 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b. \u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443. \u0412\u0430\u0440\u0438\u0430\u043d\u0442: \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f server.py import socket server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(10) while True: try: clientsocket, address = server.accept() data = clientsocket.recv(1024).decode(\"utf-8\") a, b, c = float(a), float(b), float(c) d = (b ** 2) - (4 * a * c) if d < 0: msg = \"No solutions\" clientsocket.send(msg.encode(\"utf-8\")) elif d == 0: x = -b / (2*a) clientsocket.send(f\"x = {x}\".encode(\"utf-8\")) else: x1 = (-b-d ** 0.5)/(2*a) x2 = (-b+d ** 0.5)/(2*a) clientsocket.send(f\"x1 = {x1}, x2 = {x2}\".encode(\"utf-8\")) except KeyboardInterrupt: server.close() break client.py import socket client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) num = input(\"Enter a, b, c: \\n\") client.send(num.encode(\"utf-8\")) data = client.recv(1024).decode(\"utf-8\") print(\"result: \", data) client.close()","title":"Task 2"},{"location":"lr1/#task-3","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u0412 \u043e\u0442\u0432\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 http-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0435 html-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 index.html. index.html <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>My page</title> </head> <body> <p> \"Today is a beautiful day!\" </p> </body> </html> server.py import socket server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(10) while True: try: clientsocket, address = server.accept() html_p = open('index.html') html_content = html_p.read() html_p.close() html_resp = 'HTTP/1.0 200 OK\\n' + html_content clientsocket.sendall(html_resp.encode('utf-8')) clientsocket.close() except KeyboardInterrupt: server.close() break client.py from http import client import socket client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) data = client.recv(1024) print(data.decode('utf-8')) client.close()","title":"Task 3"},{"location":"lr1/#task-4","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0432\u0443\u0445\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0438\u043b\u0438 \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0447\u0430\u0442. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0447\u0430\u0441\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 threading. server.py import socket import threading server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((\"127.0.0.1\", 8080)) server.listen(10) clients = [] nicknames = [] def broadcast(message): for client in clients: client.send(message) def handle(client): while True: try: message = client.recv(1024) broadcast(message) except: index = clients.index(client) clients.remove(client) client.close() nickname = nicknames[index] broadcast('{} left!'.format(nickname).encode('ascii')) nicknames.remove(nickname) break def receive(): while True: client, address = server.accept() print(\"Connected with {}\".format(str(address))) client.send('NICK'.encode('ascii')) nickname = client.recv(1024).decode('ascii') nicknames.append(nickname) clients.append(client) print(\"Nickname is {}\".format(nickname)) broadcast(\"{} joined!\".format(nickname).encode('ascii')) client.send('Connected to server!'.encode('ascii')) thread = threading.Thread(target=handle, args=(client,)) thread.start() receive() client.py import socket import threading nickname = input(\"Choose your nickname: \") client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect((\"127.0.0.1\", 8080)) def receive(): while True: try: message = client.recv(1024).decode('ascii') if message == 'NICK': client.send(nickname.encode('ascii')) else: print(message) except: print(\"An error occured!\") client.close() break def write(): while True: message = '{}: {}'.format(nickname, input('')) client.send(message.encode('ascii')) receive_thread = threading.Thread(target=receive) receive_thread.start() write_thread = threading.Thread(target=write) write_thread.start()","title":"Task 4"},{"location":"lr1/#task-5","text":"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 web-\u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 GET \u0438 POST http \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Python \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 socket. server.py import socket GRADES = {} class MyHTTPServer: def __init__(self, host, port): self.host = host self.port = port def serve_forever(self): server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server.bind((self.host, self.port)) server.listen(10) while True: cliensocket, address = server.accept() self.serve_client(cliensocket) def serve_client(self, clientsocket): try: req = self.parse_request(clientsocket) resp = self.handle_request(req) self.send_response(clientsocket, resp) except ConnectionResetError: clientsocket = None if clientsocket: clientsocket.close() def parse_request_line(self, rfile): line = rfile.readline(10**4) line = line.decode(\"utf-8\") return line.split() def parse_request(self, clientsocket): rfile = clientsocket.makefile('rb') method, url, ver = self.parse_request_line(rfile) request = {'data': {}, 'method': method} if '?' in url: request['method'] = 'POST' values = url.split('?')[1].split('&') for value in values: a, b = value.split('=') request['data'][a] = b return request def handle_request(self, req): if req['method'] == 'POST': return self.handle_post(req) else: return self.handle_get() def handle_get(self): contenttype = 'text/html; charset=utf-8' body = '<html><head><style></style></head><body>' body += '<form><label>Discipline </label><input name=\"discipline\" /><br><label>Mark </label><input name=\"grade\"/><br><input type=\"submit\"></form>' for i in GRADES: body += f'<div><span>{i}: {GRADES[i]}</span></div>' body += '</div></body></html>' body = body.encode('utf-8') headers = [('Content-Type', contenttype), ('Content-Length', len(body))] return Response(200, 'OK', headers, body) def handle_post(self, request): discipline = request['data']['discipline'] grade = request['data']['grade'] if discipline not in GRADES: GRADES[discipline] = [] GRADES[discipline].append(grade) return self.handle_get() def send_response(self, clientsocket, resp): rfile = clientsocket.makefile('wb') status_line = f'HTTP/1.1 {resp.status} {resp.reason}\\r\\n' rfile.write(status_line.encode('utf-8')) if resp.headers: for (key, value) in resp.headers: header_line = f'{key}: {value}\\r\\n' rfile.write(header_line.encode('utf-8')) rfile.write(b'\\r\\n') if resp.body: rfile.write(resp.body) rfile.flush() rfile.close() class Response: def __init__(self, status, reason, headers=None, body=None): self.status = status self.reason = reason self.headers = headers self.body = body if __name__ == '__main__': serv = MyHTTPServer('127.0.0.1', 8080) serv.serve_forever()","title":"Task 5"},{"location":"lr2/","text":"Laboratory work 2 \u00b6 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 django \u00b6 \u0412\u0430\u0440\u0438\u0430\u043d\u04421: \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f, \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043e\u0442\u0435\u043b\u044f, \u0430\u0434\u0440\u0435\u0441, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435, \u0442\u0438\u043f\u044b \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c, \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u043e\u0432. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u043d\u043e\u043c\u0435\u0440\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0438\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0441\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043e\u0442\u0435\u043b\u044c \u0438 \u0432\u044b\u0441\u0435\u043b\u0438\u0442\u044c \u0438\u0437 \u043e\u0442\u0435\u043b\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043b\u044c\u0446\u0435\u0432 \u043e\u0442\u0435\u043b\u044f \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446. models.py from django.db import models class Client(models.Model): first_name = models.CharField(max_length=30) last_name = models.CharField(max_length=30) birthday = models.DateField(null=True) passport = models.CharField(max_length=30, null=True) def __str__(self): return f'{self.last_name} {self.first_name}' class Hotel(models.Model): clients = models.ManyToManyField(Client, through='Booking', related_name='clients') hotel_name = models.CharField(max_length=30) owner = models.CharField(max_length=30) address = models.CharField(max_length=40, null=True) def __str__(self): return self.hotel_name class Room(models.Model): number = models.CharField(max_length=5) type = models.CharField(max_length=30, null=True) hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE, null=True, related_name='hotel_room') price = models.IntegerField(null=True) def __str__(self): return f\"{self.number}\" class Booking(models.Model): client = models.ForeignKey(Client, on_delete=models.CASCADE, related_name='book_client') hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE, related_name='book_hotel') room = models.ForeignKey(Room, on_delete=models.CASCADE, related_name='book_room') check_in_date = models.DateField() check_out_date = models.DateField() def __str__(self): return f\"{self.client}: {self.check_in_date} - {self.check_out_date}\" class Comment(models.Model): author = models.ForeignKey(Client, on_delete=models.CASCADE, null=True, related_name='author') hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE, null=True, related_name='inf_author') rating = models.IntegerField(choices=[(i, i) for i in range(0, 11)]) review_comment = models.CharField(max_length=500) def __str__(self): return f\"{self.author}: {self.rating}\" urls.py from django.urls import path from .views import * urlpatterns = [ path(\"home/\", home), path(\"client_list/\", clients_list), path(\"client_create/\", clients_create), path(\"room_list/\", room_list), path(\"book/\", book), path(\"book_list/\", book_list), path(\"month/\", last_month), path(\"book_update/<int:pk>/\", BookUpdate.as_view()), path(\"book_delete/<int:pk>/\", BookDelete.as_view()), path('hotel_list/', HotelList.as_view()), path('hotel/<str:pk>', hotel_view), path('hotel/review/<str:pk>', comment) ] views.py from django.shortcuts import render, get_object_or_404, redirect from django.http import Http404 from django.views.generic import ListView, UpdateView, DeleteView from .forms import ClientForm, BookingForm, CommentForm from .models import Client, Hotel, Room, Booking, Comment import datetime # \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 def home(request): return render(request, \"home.html\") # \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445 def clients_list(request): data = {\"clients\": Client.objects.all()} return render(request, \"clients_list.html\", data) # \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 def clients_create(request): data = {} form = ClientForm(request.POST or None) if form.is_valid(): form.save() return redirect('/client_list') data[\"form\"] = form return render(request, \"register.html\", data) # \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043d\u043e\u043c\u0435\u0440\u0430\u0445 def room_list(request): data = {\"rooms\": Room.objects.all()} return render(request, \"room_list.html\", data) # \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 def book(request): data = {} form = BookingForm(request.POST or None) if form.is_valid(): form.save() data[\"form\"] = form return render(request, \"booking.html\", data) # \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 def book_list(request): data = {\"booking\": Booking.objects.all()} return render(request, \"book_list.html\", data) # c\u043f\u0438\u0441\u043e\u043a \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430 def last_month(request): data = {} try: month = datetime.date.today() - datetime.timedelta(days=31) data[\"booking\"] = Booking.objects.all().filter(check_in_date__gte=str(month), check_out_date__lte=str(datetime.date.today())) print(data) except Booking.DoesNotExist: raise Http404(\"No guests this month yet :(\") return render(request, \"book_list.html\", data) # \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class BookUpdate(UpdateView): model = Booking template_name = \"book_update.html\" fields = [\"check_in_date\", \"check_out_date\", \"client\", \"room\"] success_url = \"/book_list/\" # \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class BookDelete(DeleteView): model = Booking template_name = \"book_delete.html\" success_url = \"/book_list/\" # \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0441\u0442\u0435\u0439 \u043e\u0442\u0435\u043b\u044f class HotelList(ListView): model = Hotel template_name = 'hotel.html' all_hotels = Hotel.objects # \u043e\u0431\u0437\u043e\u0440 \u043d\u0430 \u043e\u0442\u0435\u043b\u0438 def hotel_view(request, pk): hotel = Hotel.objects.get(id=pk) comments = Comment.objects.filter(hotel=hotel) return render(request, 'hotel_detail.html', {'hotel': hotel, 'comments': comments}) # \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f \u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 def comment(request, pk): obj = get_object_or_404(Hotel, id=pk) author = request.user if request.method == 'POST': form = CommentForm(request.POST) if form['review_comment'].value(): if form['rating'].value(): if form.is_valid(): com = form.save(commit=False) com.client = author com.hotel = obj com.save() else: form = CommentForm() return render(request, 'review.html', {'form': form})","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162"},{"location":"lr2/#laboratory-work-2","text":"","title":"Laboratory work 2"},{"location":"lr2/#django","text":"\u0412\u0430\u0440\u0438\u0430\u043d\u04421: \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f, \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043e\u0442\u0435\u043b\u044f, \u0430\u0434\u0440\u0435\u0441, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435, \u0442\u0438\u043f\u044b \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c, \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u043e\u0432. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u043d\u043e\u043c\u0435\u0440\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0438\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0441\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043e\u0442\u0435\u043b\u044c \u0438 \u0432\u044b\u0441\u0435\u043b\u0438\u0442\u044c \u0438\u0437 \u043e\u0442\u0435\u043b\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043b\u044c\u0446\u0435\u0432 \u043e\u0442\u0435\u043b\u044f \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446. models.py from django.db import models class Client(models.Model): first_name = models.CharField(max_length=30) last_name = models.CharField(max_length=30) birthday = models.DateField(null=True) passport = models.CharField(max_length=30, null=True) def __str__(self): return f'{self.last_name} {self.first_name}' class Hotel(models.Model): clients = models.ManyToManyField(Client, through='Booking', related_name='clients') hotel_name = models.CharField(max_length=30) owner = models.CharField(max_length=30) address = models.CharField(max_length=40, null=True) def __str__(self): return self.hotel_name class Room(models.Model): number = models.CharField(max_length=5) type = models.CharField(max_length=30, null=True) hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE, null=True, related_name='hotel_room') price = models.IntegerField(null=True) def __str__(self): return f\"{self.number}\" class Booking(models.Model): client = models.ForeignKey(Client, on_delete=models.CASCADE, related_name='book_client') hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE, related_name='book_hotel') room = models.ForeignKey(Room, on_delete=models.CASCADE, related_name='book_room') check_in_date = models.DateField() check_out_date = models.DateField() def __str__(self): return f\"{self.client}: {self.check_in_date} - {self.check_out_date}\" class Comment(models.Model): author = models.ForeignKey(Client, on_delete=models.CASCADE, null=True, related_name='author') hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE, null=True, related_name='inf_author') rating = models.IntegerField(choices=[(i, i) for i in range(0, 11)]) review_comment = models.CharField(max_length=500) def __str__(self): return f\"{self.author}: {self.rating}\" urls.py from django.urls import path from .views import * urlpatterns = [ path(\"home/\", home), path(\"client_list/\", clients_list), path(\"client_create/\", clients_create), path(\"room_list/\", room_list), path(\"book/\", book), path(\"book_list/\", book_list), path(\"month/\", last_month), path(\"book_update/<int:pk>/\", BookUpdate.as_view()), path(\"book_delete/<int:pk>/\", BookDelete.as_view()), path('hotel_list/', HotelList.as_view()), path('hotel/<str:pk>', hotel_view), path('hotel/review/<str:pk>', comment) ] views.py from django.shortcuts import render, get_object_or_404, redirect from django.http import Http404 from django.views.generic import ListView, UpdateView, DeleteView from .forms import ClientForm, BookingForm, CommentForm from .models import Client, Hotel, Room, Booking, Comment import datetime # \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 def home(request): return render(request, \"home.html\") # \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445 def clients_list(request): data = {\"clients\": Client.objects.all()} return render(request, \"clients_list.html\", data) # \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 def clients_create(request): data = {} form = ClientForm(request.POST or None) if form.is_valid(): form.save() return redirect('/client_list') data[\"form\"] = form return render(request, \"register.html\", data) # \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043d\u043e\u043c\u0435\u0440\u0430\u0445 def room_list(request): data = {\"rooms\": Room.objects.all()} return render(request, \"room_list.html\", data) # \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 def book(request): data = {} form = BookingForm(request.POST or None) if form.is_valid(): form.save() data[\"form\"] = form return render(request, \"booking.html\", data) # \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 def book_list(request): data = {\"booking\": Booking.objects.all()} return render(request, \"book_list.html\", data) # c\u043f\u0438\u0441\u043e\u043a \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430 def last_month(request): data = {} try: month = datetime.date.today() - datetime.timedelta(days=31) data[\"booking\"] = Booking.objects.all().filter(check_in_date__gte=str(month), check_out_date__lte=str(datetime.date.today())) print(data) except Booking.DoesNotExist: raise Http404(\"No guests this month yet :(\") return render(request, \"book_list.html\", data) # \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class BookUpdate(UpdateView): model = Booking template_name = \"book_update.html\" fields = [\"check_in_date\", \"check_out_date\", \"client\", \"room\"] success_url = \"/book_list/\" # \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class BookDelete(DeleteView): model = Booking template_name = \"book_delete.html\" success_url = \"/book_list/\" # \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0441\u0442\u0435\u0439 \u043e\u0442\u0435\u043b\u044f class HotelList(ListView): model = Hotel template_name = 'hotel.html' all_hotels = Hotel.objects # \u043e\u0431\u0437\u043e\u0440 \u043d\u0430 \u043e\u0442\u0435\u043b\u0438 def hotel_view(request, pk): hotel = Hotel.objects.get(id=pk) comments = Comment.objects.filter(hotel=hotel) return render(request, 'hotel_detail.html', {'hotel': hotel, 'comments': comments}) # \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f \u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 def comment(request, pk): obj = get_object_or_404(Hotel, id=pk) author = request.user if request.method == 'POST': form = CommentForm(request.POST) if form['review_comment'].value(): if form['rating'].value(): if form.is_valid(): com = form.save(commit=False) com.client = author com.hotel = obj com.save() else: form = CommentForm() return render(request, 'review.html', {'form': form})","title":"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 django"},{"location":"prac2/","text":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 3.1 \u00b6 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1 \u00b6 \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. models.py from django.db import models class Owner(models.Model): owner_id = models.IntegerField(primary_key=True) last_name = models.CharField(max_length=30, null=False) first_name = models.CharField(max_length=30, null=False) birthday = models.DateField() class Car(models.Model): car_id = models.IntegerField(primary_key=True) state_num = models.CharField(max_length=15, null=False) brand = models.CharField(max_length=20, null=False) model = models.CharField(max_length=20, null=False) color = models.CharField(max_length=30, null=True) class Ownership(models.Model): owner_car_id = models.IntegerField(primary_key=True) owner_id = models.ForeignKey(Owner, on_delete=models.CASCADE) car_id = models.ForeignKey(Car, on_delete=models.CASCADE) start_date = models.DateField() end_date = models.DateField(null=True) class License(models.Model): license_id = models.IntegerField(primary_key=True) owner_id = models.ForeignKey(Owner, on_delete=models.CASCADE) license_num = models.CharField(max_length=10, null=False) type = models.CharField(max_length=10, null=False) start_date_license = models.DateField() \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432: \u00b6 >>> owner1=Owner.objects.create(owner_id = 1, last_name=\"Popova\",first_name=\"Masha\", birthday=\"2000-10-10\") >>> owner2=Owner.objects.create(owner_id = 2, last_name=\"Ivanov\", first_name=\"Ivan\", birthday=\"1990-10-10\") >>> owner3=Owner.objects.create(owner_id = 3, last_name=\"Pupkin\", first_name=\"Oleg\", birthday=\"1995-10-10\") >>> owner4=Owner.objects.create(owner_id = 4, last_name=\"Markov\", first_name=\"Max\", birthday=\"2000-10-10\") >>> owner5=Owner.objects.create(owner_id = 5, last_name=\"Borisov\", first_name=\"Boris\", birtday=\"1985-10-10\") >>> owner6=Owner.objects.create(owner_id = 6, last_name=\"Smirnova\", first_name=\"Dasha\", birthday=\"1990-10-10\") \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439: \u00b6 car1=Car.objects.create(car_id=1, state_num=\"A111AA1\", brand=\"Tayota\", model=\"1\", color=\"black\") >>> car2=Car.objects.create(car_id=2, state_num=\"A222AA1\",brand=\"BMW\", model=\"1\", color=\"red\") >>> car3=Car.objects.create(car_id=3, state_num=\"A333AA1\", brand=\"BMW\", model=\"2\", color=\"white\") >>> car4=Car.objects.create(car_id=4, state_num=\"A444AA1\", brand=\"Tayota\", model=\"2\", color=\"blue\") >>> car5=Car.objects.create(car_id=5, state_num=\"A555AA1\", brand=\"Audi\", model=\"1\", color=\"black\") >>> car6=Car.objects.create(car_id=6, state_num=\"A666AA1\", brand=\"Audi\", model=\"2\", color=\"black\") \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432: \u00b6 >>> license1=License.objects.create(license_id=1, owner_id=owner1, license_num=\"123456789\", type=\"B\", start_date_license=\"2020-10-10\") >>> license2=License.objects.create(license_id=2, owner_id=owner2, license_num=\"123456666\", type=\"B\", start_date_license=\"2010-10-10\") >>> license3=License.objects.create(license_id=3, owner_id=owner3, license_num=\"123456777\", type=\"B\", start_date_license=\"2010-10-10\") >>> license4=License.objects.create(license_id=4, owner_id=owner4, license_num=\"123456888\", type=\"B\", start_date_license=\"2020-10-10\") >>> license5=License.objects.create(license_id=5, owner_id=owner5, license_num=\"123456999\", type=\"B\", start_date_license=\"2005-10-10\") >>> license6=License.objects.create(license_id=6, owner_id=owner6, license_num=\"123457111\", type=\"B\", start_date_license=\"2008-10-10\") \u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439: \u00b6 >>> Ownership(1, 1, 1, \"2021-10-10\", \"2022-10-10\").save() >>> Ownership(2, 2, 2, \"2011-10-10\", \"2012-10-10\").save() >>> Ownership(3, 3, 3, \"2011-10-10\", \"2012-10-10\").save() >>> Ownership(4, 4, 4, \"2021-10-10\", \"2022-10-10\").save() >>> Ownership(5, 5, 5, \"2006-10-10\", \"2007-10-10\").save() >>> Ownership(6, 6, 6, \"2009-10-10\", \"2010-10-10\").save() \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2 \u00b6 \u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0417\u0430\u043f\u0440\u043e\u0441 1 \u00b6 \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): >>> Car.objects.filter(brand=\"Tayota\") <QuerySet [<Car: Car object (1)>, <Car: Car object (4)>]> \u0417\u0430\u043f\u0440\u043e\u0441 2 \u00b6 \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): >>> Owner.objects.filter(first_name=\"Oleg\") <QuerySet [<Owner: Owner object (3)>]> \u0417\u0430\u043f\u0440\u043e\u0441 3 \u00b6 \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): >>> take_id=Owner.objects.all()[0].owner_id >>> License.objects.get(owner_id=take_id) <License: License object (1)> \u0417\u0430\u043f\u0440\u043e\u0441 4 \u00b6 \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): >>> for i in range(len(Car.objects.filter(color=\"black\"))): ... print(Car.objects.filter(color=\"black\")[i]) ... Car object (1) Car object (5) Car object (6) \u0417\u0430\u043f\u0440\u043e\u0441 5 \u00b6 \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435): >>> Ownership.objects.filter(start_date__gte=\"2010-01-01\") <QuerySet [<Ownership: Ownership object (1)>, <Ownership: Ownership object (2)>, <Ownership: Ownership object (3)>, <Ownership: Ownership object (4)>]> \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3 \u00b6 \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0417\u0430\u043f\u0440\u043e\u0441 1 \u00b6 \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> from django.db.models import Min, Max >>> License.objects.aggregate(start_date_license=Min(\"start_date_license\")) {'start_date_license': datetime.date(2005, 10, 10)} \u0417\u0430\u043f\u0440\u043e\u0441 2 \u00b6 \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: >>> Ownership.objects.aggregate(start_date=Max(\"start_date\")) {'start_date': datetime.date(2021, 10, 10)} \u0417\u0430\u043f\u0440\u043e\u0441 3 \u00b6 \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: >>> from django.db.models import Count >>> Ownership.objects.values(\"owner_id\").annotate(Count(\"car_id\")) <QuerySet [{'owner_id': 1, 'car_id__count': 1}, {'owner_id': 2, 'car_id__count': 1}, {'owner_id': 3, 'car_id__count': 1}, {'owner_id': 4, 'car_id__count': 1}, {'owner_id': 5, 'car_id__count': 1}, {'owner_id': 6, 'car_id__count': 1}]> \u0417\u0430\u043f\u0440\u043e\u0441 4 \u00b6 \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: >>> Car.objects.values(\"brand\").annotate(Count(\"car_id\")) <QuerySet [{'brand': 'Audi', 'car_id__count': 2}, {'brand': 'BMW', 'car_id__count': 2}, {'brand': 'Tayota', 'car_id__count': 2}]> \u0417\u0430\u043f\u0440\u043e\u0441 5 \u00b6 \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> Owner.objects.order_by(\"license__start_date_license\") <QuerySet [<Owner: Owner object (5)>, <Owner: Owner object (6)>, <Owner: Owner object (2)>, <Owner: Owner object (3)>, <Owner: Owner object (1)>, <Owner: Owner object (4)>]>","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 3.1"},{"location":"prac2/#31","text":"","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 3.1"},{"location":"prac2/#311","text":"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. models.py from django.db import models class Owner(models.Model): owner_id = models.IntegerField(primary_key=True) last_name = models.CharField(max_length=30, null=False) first_name = models.CharField(max_length=30, null=False) birthday = models.DateField() class Car(models.Model): car_id = models.IntegerField(primary_key=True) state_num = models.CharField(max_length=15, null=False) brand = models.CharField(max_length=20, null=False) model = models.CharField(max_length=20, null=False) color = models.CharField(max_length=30, null=True) class Ownership(models.Model): owner_car_id = models.IntegerField(primary_key=True) owner_id = models.ForeignKey(Owner, on_delete=models.CASCADE) car_id = models.ForeignKey(Car, on_delete=models.CASCADE) start_date = models.DateField() end_date = models.DateField(null=True) class License(models.Model): license_id = models.IntegerField(primary_key=True) owner_id = models.ForeignKey(Owner, on_delete=models.CASCADE) license_num = models.CharField(max_length=10, null=False) type = models.CharField(max_length=10, null=False) start_date_license = models.DateField()","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1"},{"location":"prac2/#_1","text":">>> owner1=Owner.objects.create(owner_id = 1, last_name=\"Popova\",first_name=\"Masha\", birthday=\"2000-10-10\") >>> owner2=Owner.objects.create(owner_id = 2, last_name=\"Ivanov\", first_name=\"Ivan\", birthday=\"1990-10-10\") >>> owner3=Owner.objects.create(owner_id = 3, last_name=\"Pupkin\", first_name=\"Oleg\", birthday=\"1995-10-10\") >>> owner4=Owner.objects.create(owner_id = 4, last_name=\"Markov\", first_name=\"Max\", birthday=\"2000-10-10\") >>> owner5=Owner.objects.create(owner_id = 5, last_name=\"Borisov\", first_name=\"Boris\", birtday=\"1985-10-10\") >>> owner6=Owner.objects.create(owner_id = 6, last_name=\"Smirnova\", first_name=\"Dasha\", birthday=\"1990-10-10\")","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432:"},{"location":"prac2/#_2","text":"car1=Car.objects.create(car_id=1, state_num=\"A111AA1\", brand=\"Tayota\", model=\"1\", color=\"black\") >>> car2=Car.objects.create(car_id=2, state_num=\"A222AA1\",brand=\"BMW\", model=\"1\", color=\"red\") >>> car3=Car.objects.create(car_id=3, state_num=\"A333AA1\", brand=\"BMW\", model=\"2\", color=\"white\") >>> car4=Car.objects.create(car_id=4, state_num=\"A444AA1\", brand=\"Tayota\", model=\"2\", color=\"blue\") >>> car5=Car.objects.create(car_id=5, state_num=\"A555AA1\", brand=\"Audi\", model=\"1\", color=\"black\") >>> car6=Car.objects.create(car_id=6, state_num=\"A666AA1\", brand=\"Audi\", model=\"2\", color=\"black\")","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439:"},{"location":"prac2/#_3","text":">>> license1=License.objects.create(license_id=1, owner_id=owner1, license_num=\"123456789\", type=\"B\", start_date_license=\"2020-10-10\") >>> license2=License.objects.create(license_id=2, owner_id=owner2, license_num=\"123456666\", type=\"B\", start_date_license=\"2010-10-10\") >>> license3=License.objects.create(license_id=3, owner_id=owner3, license_num=\"123456777\", type=\"B\", start_date_license=\"2010-10-10\") >>> license4=License.objects.create(license_id=4, owner_id=owner4, license_num=\"123456888\", type=\"B\", start_date_license=\"2020-10-10\") >>> license5=License.objects.create(license_id=5, owner_id=owner5, license_num=\"123456999\", type=\"B\", start_date_license=\"2005-10-10\") >>> license6=License.objects.create(license_id=6, owner_id=owner6, license_num=\"123457111\", type=\"B\", start_date_license=\"2008-10-10\")","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432:"},{"location":"prac2/#_4","text":">>> Ownership(1, 1, 1, \"2021-10-10\", \"2022-10-10\").save() >>> Ownership(2, 2, 2, \"2011-10-10\", \"2012-10-10\").save() >>> Ownership(3, 3, 3, \"2011-10-10\", \"2012-10-10\").save() >>> Ownership(4, 4, 4, \"2021-10-10\", \"2022-10-10\").save() >>> Ownership(5, 5, 5, \"2006-10-10\", \"2007-10-10\").save() >>> Ownership(6, 6, 6, \"2009-10-10\", \"2010-10-10\").save()","title":"\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439:"},{"location":"prac2/#312","text":"\u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e:","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2"},{"location":"prac2/#1","text":"\u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): >>> Car.objects.filter(brand=\"Tayota\") <QuerySet [<Car: Car object (1)>, <Car: Car object (4)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 1"},{"location":"prac2/#2","text":"\u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): >>> Owner.objects.filter(first_name=\"Oleg\") <QuerySet [<Owner: Owner object (3)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 2"},{"location":"prac2/#3","text":"\u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): >>> take_id=Owner.objects.all()[0].owner_id >>> License.objects.get(owner_id=take_id) <License: License object (1)>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 3"},{"location":"prac2/#4","text":"\u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): >>> for i in range(len(Car.objects.filter(color=\"black\"))): ... print(Car.objects.filter(color=\"black\")[i]) ... Car object (1) Car object (5) Car object (6)","title":"\u0417\u0430\u043f\u0440\u043e\u0441 4"},{"location":"prac2/#5","text":"\u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435): >>> Ownership.objects.filter(start_date__gte=\"2010-01-01\") <QuerySet [<Ownership: Ownership object (1)>, <Ownership: Ownership object (2)>, <Ownership: Ownership object (3)>, <Ownership: Ownership object (4)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 5"},{"location":"prac2/#313","text":"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b:","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3"},{"location":"prac2/#1_1","text":"\u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> from django.db.models import Min, Max >>> License.objects.aggregate(start_date_license=Min(\"start_date_license\")) {'start_date_license': datetime.date(2005, 10, 10)}","title":"\u0417\u0430\u043f\u0440\u043e\u0441 1"},{"location":"prac2/#2_1","text":"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: >>> Ownership.objects.aggregate(start_date=Max(\"start_date\")) {'start_date': datetime.date(2021, 10, 10)}","title":"\u0417\u0430\u043f\u0440\u043e\u0441 2"},{"location":"prac2/#3_1","text":"\u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: >>> from django.db.models import Count >>> Ownership.objects.values(\"owner_id\").annotate(Count(\"car_id\")) <QuerySet [{'owner_id': 1, 'car_id__count': 1}, {'owner_id': 2, 'car_id__count': 1}, {'owner_id': 3, 'car_id__count': 1}, {'owner_id': 4, 'car_id__count': 1}, {'owner_id': 5, 'car_id__count': 1}, {'owner_id': 6, 'car_id__count': 1}]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 3"},{"location":"prac2/#4_1","text":"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: >>> Car.objects.values(\"brand\").annotate(Count(\"car_id\")) <QuerySet [{'brand': 'Audi', 'car_id__count': 2}, {'brand': 'BMW', 'car_id__count': 2}, {'brand': 'Tayota', 'car_id__count': 2}]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 4"},{"location":"prac2/#5_1","text":"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> Owner.objects.order_by(\"license__start_date_license\") <QuerySet [<Owner: Owner object (5)>, <Owner: Owner object (6)>, <Owner: Owner object (2)>, <Owner: Owner object (3)>, <Owner: Owner object (1)>, <Owner: Owner object (4)>]>","title":"\u0417\u0430\u043f\u0440\u043e\u0441 5"}]}